<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<meta http-equiv="no-cache">
<title>Coolj-ED编辑器在线版</title>
<link rel="shortcut icon" href="favicon.ico">
<link rel="stylesheet" href="styles.css">
<script src="base/tquery/tquery.min.js"></script>
<style>
/* 编辑器最大化 */
#editorBox > iframe._full {
    position: absolute;
    top: 0;
    left: 0;
}
</style>
<script type="module">
    import coolj, {setupRoot} from "./index.js";

    let _ifrm = null,
        _fmax = [
            () => $.removeClass( _ifrm, '_full' ),
            () => $.addClass( _ifrm, '_full' )
        ],
        _opts = {
            onsaved: html => window.console.info(html),
            onmaximize: num => _fmax[num](),
        };

    coolj.create( _opts, setupRoot )
        .init( $.get('#editorBox') )
        .then( ed => (_ifrm = ed.frame()).contentWindow.focus() );
</script>
</head>
<body>
    <main>
        <h1>◡酷几◡编辑器在线版</h1>
        <form action="">
            <textarea name="content" style="display: none;"></textarea>
            <span id="editorBox"></span>
        </form>
    </main>
</body>
</html>
