## 快捷键

编辑器包含几个板块，分别为：中心 **主面板**、左侧 **大纲面板**、右侧 **帮助面板**，以及主面板内下部的 **功能面板**。除了用功能按钮隐藏和显示它们外，还有方便的快捷键可以用。

- `F2`: 左侧大纲面板。
- `F3`: 主面板内下侧的功能面板。
- `F4`: 右侧的帮助面板。
- `F6`: 主面板内容区下部的路径提示栏。
- `F7`: 插件面板。
- `F8`: 内容区聚焦（便于进一步的操作）。
- `F9`: 三大面板（大纲/帮助/功能）在现状下切换。


## 功能面板

### 插入

关联当前焦点元素，在面板内容栏显示可插入内容的清单。

- 平级（Sibling）。`after|before`，不含 `replace` 操作。
- 向内（Children）。`append|prepend`，不含 `fill` 操作。

> **注：**<br>
> 链接元素 `<a>` 可封装任意内联单元，因此直接支持焦点元素（其它内联单元创建需要鼠标划选）。


### 样式

设置/编辑元素的常见内联样式。**注**：更多的样式由属性（`style`）手动编辑实现。

- 擦除。优先位置（应避免使用内联样式）。
- 格式刷。
- 字形。粗体、斜体、下划线、上划线、贯穿线。
- 字号。命名字号、自定义字号（值+单位）。
- 对齐。横向（left/right/center/justify），纵向（baseline/sub/super/top/text-top/middle/bottom/text-bottom）。
- 宽度。width、min-width、max-width。
- 边距。margin*、padding*。包括逻辑边距和填充（块前端边距、块末端边距、行前端填充、行末端填充等）。
- 颜色。标准色、自定义色、透明度。应用：内容、边框、背景。



### 特性

对元素属性（`attribute`）的手动编辑。支持任意属性，因此 `style` 条目可实现对内联样式的手工编辑。

- 支持属性排序：`Ctrl + 箭头键`。
- 支持OBT属性名高亮显示（醒目）。

左栏：

- 属性名（`<input:text>`）；添加（`<button:+>`）。

选项：

- 换行分隔符（`<input:text>`）；换行友好（`<input:checkbox>`）。
- 重置（`<botton:botton>`）。

取消换行友好时会自动查找分隔符并删除之后的换行符，分隔符置空时无作为。
如果需要移除属性本身，值输入框内置空（或任意空白符）即可，也即不支持无值的单属性名形式（布尔/枚举属性都需要有值）。

> **注：**<br>
> 属性条目可任意切换，修改的值被自动缓存。仅在点击**确定**后才修改元素（重置逻辑需要）。


### 源码

直接编辑选中焦点元素的 `innerHTML` 值，结构化显示。仅支持单个元素。

选项：

- 结构检查（`<button:button>`）。

简单显示 `OK!` 或错误标签名序列。单击错误消息可打开一个模态框，显示详细清空。模态框内含 **修复**，**确定** 功能按钮。

> **注：**<br>
> 修复是对副本操作，结果显示在模态框内。右上角 `x` 按钮仅为简单关闭（取消）。


### 脚本

作为专业版里的一个增强功能，用户可以编写/输入JS代码直接执行。命令行可获得脚本执行的结果。

选项：执行环境

- 沙盒内（`<input:radio>`）。即在一个 `Worker` 内执行。
- 编辑器内（`<input:radio>`）。提示不安全。

选项：

- 脚本历史（`icon`）。单击打开一个模态框，显示已执行脚本的历史概况。单击导入。



## 命令行

支持 `tQuery` 原生方法（限定上下文为内容区），使得可以对选取集进行批量设置。因为使用嵌入代理实现编辑历史，所以也支持撤消/重做。


------------------------------------------------------------------------------


## 备忘

### 光标定位

基于全局鼠标单击选区记录（鼠标划选创建内联单元必须）。

- **插入**：进入微编辑前，插入全局光标元素（Range.insertNode）。
- **复制**：进入微编辑后，所编辑元素为克隆版本，但可检索光标元素的副本。移除光标元素设置光标（Range.selectNode, Range.deleteContents）。
- **清理**：移出原本全局光标元素（el.remove）。


### 光标元素

```html
<i _cursor_[random]></i>
```

**注**：通过属性选择器检索。


#### 复制传递

- **插入**：进入编辑行复制前，获取当前活动选点，插入全局光标元素。
- **复制**：复制内容行，在新行中检索光标元素副本，同上方法设置光标。
- **清理**：移出原行全局光标元素。


### 左下角状态

- 鼠标移动：显示当前元素基本信息 `<tag[#id]>`。
- 键盘选取：显示选取集简单信息（`[ size ]`）。
- 前置数字：键入数字后固化显示，鼠标移动不在即时变化显示。
- 鼠标离开内容区：显示选取集简单信息（大小）。


### 插件

命令行提供一个专门的插件名称空间，用于安装和执行插件。


### 代码录入/修订

录入框：采用 `<ol contenteditable="true">` 元素录入代码，获得行号显示效果。支持自动换行，考虑支持语法高亮（`<li>` 内可不封装 `<code>` 容器）。

属性修改集成到内容功能面板，如果有录入框，默认 `disabled` 状态，单击激活提取元素内容修改。

> **注：**
> 浏览器对 `<li>` 的 `Enter` 行为支持较好。

内容区：

- 代码块：由 `<code>` 进入编辑，支持语法高亮（即时解析）。**注**：浏览器的 `Enter` 行为较好，结束后清理 `<br>` 即可。
- 代码表：选取相同的多个 `<li>` 或 `<code>` 时，也可进入属性修改面板，统一设置。**注**：但内容不可导入。
