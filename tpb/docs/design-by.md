## Tpb: By

对 `On` 采集的流程数据进行处理。处理器同样可以串连（逗号分隔）使用。默认提供一个名称为 `X`（同 `x`） 的函数库供外部自由扩展。

> **附注：**
> 如动画或特效，`On` 负责初始数据收集，`By` 则负责后续迭代循环的画面行为。


### 系统方法集

当前条目为操作的目标对象。

```js
// 事件操作
// $expr JS表达式，支持首字符特殊指引。
// 表达式会被封装为事件处理器函数，参数名：(ev, elo)。
// 目标：当前条目/栈顶1项（元素）。
// 注记：
// 用于除模板On固定配置之外的即时使用场景。
//===============================================

on( evn: String, slr, $expr ): void
off( evn: String, slr, $expr ): void
one( evn: String, slr, $expr ): void


// 通用执行
//===============================================

func( $code, ...args ): Function
// 创建或引用函数入栈。
// $code 为函数体代码或特殊指引，应自行包含return逻辑（如果需要）。
// args 为函数的参数名序列，在$code为代码时有效。
// 目标：无。
// 注：
// $code作为函数体定义会比较占地方，所以一般是引用外部。

exec( ...rest ): Value
// 把目标视为函数，传递实参执行后结果入栈。
// 目标：当前条目/栈顶1项。
// 注：通常配合 func 使用。

call( $meth, ...rest ): Value
// 调用目标方法执行。
// $meth 为方法名，支持首字符特殊指引。
// 目标：当前条目。外部引用不自动取栈。
// 注：
// 函数体内的this引用当前条目数据。
// 可引用外部扩展库，或者当前条目的方法。


// 集合执行
//===============================================
// $expr为函数体代码，参数名固定：（v, i, o）。
// 注：
// $expr的执行结果自动返回，无需return语句。
// $expr支持首字符特殊指引，引用X函数库成员（此时$expr为名称）。

map( $expr, flat: Number = 0 ): Collector
// 值集映射，返回值构建一个新集合入栈。
// flat为集合扁平化层级：
// 0    整体入栈，默认
// 1    一维展开
// n    n 维展开
// 注：
// 取当前条目或栈顶项，它们应当是一个集合。
// 返回的 null/undefined 值会被忽略。

each( $expr ): void
// 取当前条目/栈顶项迭代处理。
// 目标应该是一个集合，没有返回值入栈。
// 回调函数内返回false会中断迭代。
```


### X扩展库

`Tpb.Libs.X = Tpb.Libs.x = {}`

```js
// 简单操作支持
//===============================================

// 双值切换。
swap()


```
