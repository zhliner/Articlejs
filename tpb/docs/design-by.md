## Tpb: By

对 `On` 采集的流程数据进行处理。处理器同样可以串连（逗号分隔）使用。默认提供一个名称为 `X`（同 `x`） 的函数库供外部自由扩展。

> **附注：**
> 如动画或特效，`On` 负责初始数据收集，`By` 则负责后续迭代循环的画面行为。


### 系统方法集

```js
// 简单处理
// 该部分操作对象就是流程元素自身，无to目标。
//===============================================

unwrap()        // 流程元素（集）解包裹
remove()        // 移除流程元素
empty()         // 流程元素清空（同 to:fill 空数据）
normalize()     // 流程元素规范化
clone( event )  // 流程元素（集）克隆。


// 集合执行
//===============================================
// $code为函数体代码，参数名固定：（v, i, o）。
// 注：
// $code的执行结果自动返回，无需return语句。
// $code支持首字符特殊指引，引用X函数库成员（此时$code为名称）。

filter( $code, flat: Number = 0 )
// 条目空间值集过滤，匹配者构建一个新集合入栈。
// flat为集合扁平化层级：
// 0    整体入栈，默认
// 1    一维展开
// n    n 维展开

map( $code, flat: Number = 0 )
// 条目空间值集映射，返回值构建一个新集合入栈。
// flat为集合扁平化层级，含义同上。

$map( $code, flat: Number = 0 )
// 类似map方法，但返回的null/undefined忽略。

each( $code )
// 迭代处理。没有返回值入栈。
// 回调函数内返回false会中断迭代。


// 通用执行
//===============================================

func( $code ): Function
// 创建函数：new Function() 入栈。
// 函数的首个参数名为 $，表示流程数据。

call( ...rest ): Value
// 视条目空间数据为函数，传递实参并调用。
// 通常在 func 之后使用。

run( $meth, ...rest ): Value
// 直接的方法执行，可视为 func+call 的合体。
// $meth 为方法名，支持首字符特殊指引。
// 注：不支持直接传入代码。
```
