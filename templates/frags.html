<!-- 模态框-页 -->
<div tpl-name="dlg:page" class="_dialog _page">
    <i id="x-dclose" class="_close" title="{关闭}" mvc-on="click|tedoff('1@ textarea._code'),mdoff,end('meding'),work"></i>
    <!--注：无提交按钮组时，页框不会自动关闭 -->
    <form mvc-on="submit|void; reset|reseton,tedoff('textarea._code')">
        <h5><b tpl-out="title">[标题]</b></h5>
        <div class="_xbox" tpl-out="pages">
            <!-- [some-tplnode] -->
        </div>
        <!-- 默认提交按钮组 -->
        <div class="_btns" tpl-if="$submit">
            <span>
                <input type="submit" class="_button" value="{确定}"
                    mvc-on="click|tedoff('form@ textarea._code'),mdok('form@'),end('meding'),work" />
                <input type="reset" class="_button" value="{重置}" />
            </span>
        </div>
        <!-- 单元名 -->
        <input type="hidden" name="cname" value="" />
    </form>
</div>

<!-- 模态框-清单 -->
<div tpl-name="dlg:list" class="_dialog _list">
    <i id="x-dclose" class="_close" title="{关闭}" mvc-on="click|mdoff,end('meding'),work"></i>
    <form mvc-on="submit|void,tedoff('textarea._code'),mdok,end('meding'),work;
        reset|reseton,tedoff('textarea._code')">
        <h5>
            <b tpl-out="title">[标题]</b><span tpl-if="prop">{属性}</span>
        </h5>
        <div class="_prop">
            <div class="_note" tpl-if="tips">
                <span class="_name">{注意：}</span>
                <span class="_text" tpl-out="tips">[提示信息]</span>
            </div>
            <table border="0">
                <tbody tpl-out="items"><!-- [表格行集] --></tbody>
            </table>
        </div>
        <div class="_btns">
            <span>
                <input type="submit" class="_button" value="{确定}" />
                <input type="reset" class="_button" value="{重置}" />
            </span>
        </div>
        <!-- 单元名 -->
        <input type="hidden" name="cname" value="" />
    </form>
</div>

<!-- 模态框-单行 -->
<div tpl-name="dlg:small" class="_dialog _small">
    <i id="x-dclose" class="_close" title="{关闭}" mvc-on="click|mdoff,end('meding'),work"></i>
    <form mvc-on="submit|void,mdok,end('meding'),work">
        <h5>
            <b tpl-out="title">[标题]</b><span tpl-if="prop">{属性}</span>
        </h5>
        <div class="_xbox">
            <input type="text" name="txtline" tpl-out="value=text" />
        </div>
        <div class="_btns">
            <span>
                <input type="submit" class="_button" value="{确定}" />
                <input type="reset" class="_button" value="{重置}" />
            </span>
        </div>
        <!-- 单元名 -->
        <input type="hidden" name="cname" value="" />
    </form>
</div>

<!-- 模态框-消息 -->
<div tpl-name="dlg:msg" class="_dialog _msg">
    <i id="x-dclose" class="_close" title="{关闭}" mvc-on="click|mdoff,end('meding'),work"></i>
    <h5><b tpl-out="title">[标题]</b></h5>
    <div class="_note"><b tpl-out="content">[消息内容]</b></div>
    <form mvc-on="submit|void,mdok,end('meding'),work">
        <div class="_btns">
            <span><input type="submit" class="_button" value="{确定}" /></span>
        </div>
        <!-- 单元名 -->
        <input type="hidden" name="cname" value="" />
    </form>
</div>



<!-- 属性集（表格行）
    注：独立的行节点无法被混合构造，故此嵌套 -->
<table><tbody>

    <!-- 属性：水平对齐 -->
    <tr tpl-name="prop:align">
        <th>{水平对齐}</th>
        <td><select name="align">
                <option value="">------</option>
                <option value="left">left</option>
                <option value="center">center</option>
                <option value="right">right</option>
                <option value="justify">justify</option>
            </select>
        </td>
    </tr>

    <!-- 属性：垂直对齐 -->
    <tr tpl-name="prop:valign">
        <th>{垂直对齐}</th>
        <td><select name="valign">
                <option value="">------</option>
                <option value="top">top</option>
                <option value="middle">middle</option>
                <option value="bottom">bottom</option>
                <option value="baseline">baseline</option>
            </select>
        </td>
    </tr>

    <!-- 属性：宽度 -->
    <tr tpl-name="prop:width">
        <th>{宽度}</th>
        <td><input data-id="width" type="text" name="width" value="" class="_word"
            mvc-on="focus|hold('form@','',0); rsize|rsize('3@height')" /></td>
    </tr>

    <!-- 属性：高度 -->
    <tr tpl-name="prop:height">
        <th>{高度}</th>
        <td><input data-id="height" type="text" name="height" value="" class="_word"
            mvc-on="focus|hold('form@','',0); rsize|rsize('3@width',true)" /></td>
    </tr>

    <!-- 属性：厚度 -->
    <tr tpl-name="prop:thick">
        <th>{厚度}</th>
        <td><input data-id="thick" type="text" name="thick" value="" class="_word" /></td>
    </tr>

    <!-- 属性：列表编号类型 -->
    <tr tpl-name="prop:type">
        <th>{编号类型}</th>
        <td><select data-id="oltype" name="oltype">
                <option value="">------</option>
                <option value="1">1</option>
                <option value="A">A</option>
                <option value="a">a</option>
                <option value="I">I</option>
                <option value="i">i</option>
            </select>
        </td>
    </tr>

    <!-- 属性：列表起始行号 -->
    <tr tpl-name="prop:start">
        <th>{起始行号}</th>
        <td><input type="text" data-id="start" name="start" value="1" class="_nums" /></td>
    </tr>

    <!-- 属性：级联编号列表 -->
    <tr tpl-name="prop:casn">
        <th>{级联列表}</th>
        <td>
            <label><input type="checkbox" name="casn"
                mvc-on="change check|get('checked'),set('disabled','tbody@start'),set('disabled','tbody@oltype'),stop;
                _init|fire('@','check','',true),stop" />{多级编号}</label>
        </td>
    </tr>

    <!-- 属性：表格边框 -->
    <tr tpl-name="prop:border">
        <th>{表格边框}</th>
        <td><select name="border">
                <option value="_tb0">{无}</option>
                <option value="_tb1">{普通}</option>
                <option value="_tb4">{外围}</option>
                <option value="_tb2">{内部}</option>
                <option value="_tb5">{横向}</option>
                <option value="_tb6">{纵向}</option>
                <option value="_tb3">{上接式}</option>
            </select>
        </td>
    </tr>

    <!-- 属性：表格列数 -->
    <tr tpl-name="prop:cols">
        <th>{列数}</th>
        <td><input type="text" name="cols" value="" class="_nums" /></td>
    </tr>

    <!-- 属性：表格行数 -->
    <tr tpl-name="prop:rows">
        <th>{行数}</th>
        <td><input type="text" name="rows" value="" class="_nums" /></td>
    </tr>

    <!-- 属性：包含表脚 -->
    <tr tpl-name="prop:tfoot">
        <th><!-- 占位 --></th>
        <td><label><input type="checkbox" name="tfoot" checked />{包含表脚}</label></td>
    </tr>

    <!-- 属性：包含表头 -->
    <tr tpl-name="prop:thead">
        <th><!-- 占位 --></th>
        <td><label><input type="checkbox" name="thead" checked />{包含表头}</label></td>
    </tr>

    <!-- 属性：表标题上下位置 -->
    <tr tpl-name="prop:thalign">
        <th>{标题位置}</th>
        <td><label><input type="checkbox" name="thalign" />{在表格底部}</label></td>
    </tr>

    <!-- 属性：表格摘要（屏幕阅读器用） -->
    <tr tpl-name="prop:summary">
        <th>{表格摘要}</th>
        <td><textarea name="summary" rows="2"></textarea></td>
    </tr>

    <!-- 属性：线条类型 -->
    <tr tpl-name="prop:class">
        <th>{线条类型}</th>
        <td mvc-on="click('b')|tabs('_fixed'),val('@line','-val')" class="_lines">
            <div mvc-on="keydown|keys(13),void,fire('form@','submit')" tabindex="0">
                <b data-val="" title="{默认}"><hr></b>
                <b data-val="solid" title="{实线（solid）}"><hr class="solid"></b>
                <b data-val="dotted" title="{点线（dotted）}"><hr class="dotted"></b>
                <b data-val="double" title="{双线（double）}"><hr class="double"></b>
                <b data-val="dashed" title="{虚线（dashed）}"><hr class="dashed"></b>
                <b data-val="groove" title="{3D凹槽（groove）}"><hr class="groove"></b>
                <b data-val="ridge" title="{3D垄线（ridge）}"><hr class="ridge"></b>
                <b data-val="inset" title="{嵌入线（inset）}"><hr class="inset"></b>
                <b data-val="outset" title="{外溢线（outset）}"><hr class="outset"></b>
            </div>
            <input type="hidden" data-id="line" name="line" value="">
        </td>
    </tr>

    <!-- 属性：链接URL -->
    <tr tpl-name="prop:href">
        <th>{链接URL}</th>
        <td><input type="text" name="href" value="" placeholder="http://" /></td>
    </tr>

    <!-- 属性：链接目标窗口 -->
    <tr tpl-name="prop:target">
        <th>{目标窗口}</th>
        <td><select name="target">
                <option value="">------</option>
                <option value="_blank">_blank</option>
                <option value="_parent">_parent</option>
                <option value="_top">_top</option>
                <option value="_self">_self</option>
            </select>
        </td>
    </tr>

    <!-- 属性：视频画面URL -->
    <tr tpl-name="prop:poster">
        <th>{概览图}</th>
        <td><input type="text" name="poster" value="" title="{poster 属性值}" placeholder="http://" /></td>
    </tr>

    <!-- 属性：引用来源 -->
    <tr tpl-name="prop:cite">
        <th>{引用来源}</th>
        <td><input type="text" name="cite" value="" title="{cite 属性值}" placeholder="http://" /></td>
    </tr>

    <!-- 属性：图片替代文本 -->
    <tr tpl-name="prop:alt">
        <th>{替代文本}</th>
        <td><input type="text" name="alt" value="" title="{alt 属性值}" /></td>
    </tr>

    <!-- 属性：日期&时间 -->
    <tr tpl-name="prop:datetime">
        <th>{日期/时间戳}</th>
        <td><input type="text" name="datetime" value="" placeholder="YYYY-MM-DDThh:mm:ss" /></td>
    </tr>

    <!-- 属性：循环播放 -->
    <tr tpl-name="prop:loop">
        <th><!-- 占位 --></th>
        <td><label><input type="checkbox" name="loop" />{循环播放}</label></td>
    </tr>

    <!-- 属性：自动播放 -->
    <tr tpl-name="prop:autoplay">
        <th><!-- 占位 --></th>
        <td><label><input type="checkbox" name="autoplay" />{自动播放}</label></td>
    </tr>

    <!-- 属性：详细展开 -->
    <tr tpl-name="prop:open">
        <th><!-- 占位 --></th>
        <td><label><input type="checkbox" name="open" />{详细展开}</label></td>
    </tr>

    <!-- 属性：代码块（code.block） -->
    <tr tpl-name="prop:cblock">
        <th><!-- 占位 --></th>
        <td><label><input type="checkbox" name="cblock" />{代码块}</label></td>
    </tr>

    <!-- 属性：制表符大小（code.block） -->
    <tr tpl-name="prop:tabs">
        <th><!-- 占位 --></th>
        <td><label><input type="checkbox" name="tabx" />{制表符}</label>
            <input name="tabn" type="text" value="4" class="_char" />
        </td>
    </tr>

    <!-- 属性：上传 -->
    <tr tpl-name="prop:upload" class="_upload">
        <th>{上传}</th>
        <td><input type="file" name="upload" value=""
            mvc-on="change" mvc-by="Sys.upload('src', 'cname')" /></td>
    </tr>

    <!-- 属性：position -->
    <tr tpl-name="prop:position">
        <th>{标题位置}</th>
        <td>
            <label><input type="radio" name="hpos" value="top" checked />{上部}</label>&nbsp;
            <label><input type="radio" name="hpos" value="bottom" />{下部}</label>
        </td>
    </tr>

    <!-- 属性：媒体预览 -->
    <tr tpl-name="prop:preview">
        <th>{预览}</th>
        <td class="_media">
            <span data-id="mediabox"
                mvc-on="click('img')|hold('form@'),imgsz('3@width','3@height'),pass,ratio('-rat'),fire(null,'rsize','-rat')">
                <!-- 预览框（img|video|audio） -->
            </span>
        </td>
    </tr>

    <!-- 属性：数据来源 -->
    <tr tpl-name="prop:src">
        <th>URL</th>
        <td><input type="text" name="src" value="" placeholder="http://"
            mvc-on="change|val('3@mediabox >*','','src'),
            attr('title','3@mediabox >img','{单击设置尺寸}'),
            prop('value','','3@width'),prop('value','','3@height')" /></td>
    </tr>

    <!-- 属性：标题h3 -->
    <tr tpl-name="prop:h3">
        <th>{标题}</th><td><input type="text" name="h3" value=""></td>
    </tr>

    <!-- 属性：标题h4 -->
    <tr tpl-name="prop:h4">
        <th>{标题}</th><td><input type="text" name="h4" value=""></td>
    </tr>

    <!-- 属性：标题h5 -->
    <tr tpl-name="prop:h5">
        <th>{标题}</th><td><input type="text" name="h5" value=""></td>
    </tr>

    <!-- 属性：标题h6 -->
    <tr tpl-name="prop:h6">
        <th>{标题}</th><td><input type="text" name="h6" value=""></td>
    </tr>

    <!-- 属性：标题figcaption -->
    <tr tpl-name="prop:figcaption">
        <th>{标题}</th><td><input type="text" name="figcaption" value=""></td>
    </tr>

    <!-- 属性：标题caption -->
    <tr tpl-name="prop:caption">
        <th>{标题}</th><td><input type="text" name="caption" value=""></td>
    </tr>

    <!-- 属性：注音 -->
    <tr tpl-name="prop:rt">
        <th>{注音}</th>
        <td><input type="text" name="rt" class="_phrase" value="" /></td>
    </tr>
    <tr tpl-name="prop:cl">
        <th>{左括号}</th>
        <td><input type="text" name="cl" class="_char" value="" />{（可选）}</td>
    </tr>
    <tr tpl-name="prop:cr">
        <th>{右括号}</th>
        <td><input type="text" name="cr" class="_char" value="" />{（可选）}</td>
    </tr>

    <!-- 属性：小文本（time） -->
    <tr tpl-name="prop:text">
        <th>{内容}</th>
        <td><textarea name="text" rows="3"></textarea></td>
    </tr>

    <!-- 属性：字符表情（code.orz） -->
    <tr tpl-name="prop:orz">
        <th>{内容}</th>
        <td><textarea name="text" rows="7" class="_orz" spellcheck="false"></textarea></td>
    </tr>

    <!-- 属性：代码清单（code.list）
         初始赋值取<ol>的内容，故与普通code分开定义。 -->
    <tr tpl-name="prop:clist">
        <th>{代码}</th>
        <td><textarea name="clist" rows="14" class="_code" spellcheck="false"
            mvc-on="keydown paste cut|tedit; mousedown|tedbrk" mvc-by="Sys.tedit"></textarea></td>
    </tr>

    <!-- 属性：代码内容（code, code.block） -->
    <tr tpl-name="prop:code">
        <th>{代码}</th>
        <td><textarea name="code" rows="14" class="_code" spellcheck="false"
            mvc-on="keydown paste cut|tedit; mousedown|tedbrk" mvc-by="Sys.tedit"></textarea>
        </td>
    </tr>

    <!-- 属性：源码（object） -->
    <tr tpl-name="prop:html">
        <th>{源码}</th>
        <td><textarea name="html" rows="12" class="_code" spellcheck="false"
            mvc-on="keydown paste cut|tedit; mousedown|tedbrk" mvc-by="Sys.tedit"></textarea>
        </td>
    </tr>

    <!-- 属性：属性清单 -->
    <tr tpl-name="prop:attrs">
        <th>{其它属性}</th>
        <td><textarea name="attrs" rows="6" title="{每行一项}" class="_code" spellcheck="false" placeholder='name="some-value"'></textarea></td>
    </tr>

</tbody></table>


<!-- 脚本历史页框 -->
<div tpl-name="page:shlist" class="_sh">
    <div class="_search">
        <!-- blur,select：避免输入历史框遮挡 -->
        <input type="text" name="word" class="_text" placeholder="{输入过滤词汇}"
            mvc-on="change|blur,select"
            mvc-by="Art.shfltr"
            mvc-to="2@shlist|fill">
        <input type="button" class="_icon" data-id="runbtn" title="{过滤}"
            mvc-on="click|go('1@runbtn','change')">
    </div>
    <!-- 脚本历史清单 -->
    <ol data-id="shlist" reversed tpl-out
        mvc-on="click('code')|val('#val-script','text'),mdok('form@'),fire('#val-script','edoff')">
        <!-- <li><code></code></li> -->
    </ol>
</div>

<!--DATA:children
    脚本历史清单构造 -->
<ol tpl-name="data:shlist" tpl-for>
    <li><code tpl-out="@value"></code></li>
</ol>

<!-- 脚本测试页框 -->
<ul tpl-name="page:shtest" class="_info">
    <li tpl-if="error">{错误：}<i class="_error" tpl-out="error"></i></li>
    <li tpl-if="warn">{警告：}<i class="_warn" tpl-out="warn"></i></li>
    <li title="RESULT.type">{操作类型：}<b tpl-out="type"></b></li>
    <li title="RESULT.to">{目标元素：}<b tpl-out="to"></b></li>
    <li title="RESULT.selector">{选择器：}<b tpl-out="selector"></b></li>
    <li title="RESULT.method">{插入方式：}<b tpl-out="method"></b></li>
    <li>{结果数据：}</li>
    <li title="RESULT.data" class="_data"><div tpl-out="data"></div></li>
</ul>
