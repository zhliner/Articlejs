<!-- 内容：录入 -->
<form class="Input" tpl-name="slave:input"
    on="submit|avoid;
        insert|ev('detail')"
    by="-;"
    to="/._body|trigger('create')">
    <div class="_roll">
        <!--focus: 快捷操作友好 -->
        <div class="_where" on="click(input)|$('1/select') focus">
            <label title="平级插入">
                <input type="radio" name="where" checked /><i id="l-siblings"></i>
            </label>
            <label title="向内插入">
                <input type="radio" name="where"><i id="l-children"></i>
            </label>
        </div>
        <!--动态更新：与目标关联的合法单元
            input.select:
            与内联单元和字符种类共享快捷键指向，检查通过（dup pass）。 -->
        <select id="input-items" name="items" size="5" class="_list"
            on="change|evo(3) val pop tpl;
                input.select|ev('detail') slr('/','-k', _) $(_) dup pass prop('value')"
            to="form/._body|replace;
                |val|goto('change')">
            <option title="<h1,+h2>" value="input:heading">标题</option>
            <option title="<header:abstract>" value="input:abstract">提要</option>
            <option data-k="r" title="<ol:reference>" value="input:reference">文献参考 [r]</option>
            <option title="<ul:seealso>" value="input:seealso">另参见</option>
            <option data-k="h" title="<header>" value="input:header">导言 [h]</option>
            <option title="<footer>" value="input:footer">结语</option>
            <option data-k="s" title="<section>" value="input:section">片区 [s]</option>
            <option data-k="u" title="<ul>" value="input:ul">无序列表 [u]</option>
            <option data-k="o" title="<ol>" value="input:ol">有序列表 [o]</option>
            <option title="<ol:cascade>" value="input:cascade">级联表</option>
            <option title="<dl>" value="input:dl">定义列表</option>
            <option data-k="b" title="<blockquote>" value="input:blockquote">引用块 [b]</option>
            <option title="<aside>" value="input:aside">批注块</option>
            <option data-k="d" title="<details>" value="input:details">详细内容 [d]</option>
            <option data-k="l" title="<ol:codelist>" value="input:codelist">代码表 [l]</option>
            <option data-k="c" title="<pre:codeblock>" value="input:codeblock">代码块 [c]</option>
            <option data-k="t" title="<table>" value="input:table">表格 [t]</option>
            <option data-k="f" title="<figure>" value="input:figure">插图 [f]</option>
            <option data-k="p" title="<p>" value="input:p">段落 [p]</option>
            <option data-k="n" title="<p:note>" value="input:note">注解 [n]</option>
            <option title="<p:tips>" value="input:tips">提示</option>
            <option data-k="a" title="<address>" value="input:address">地址 [a]</option>
            <option title="<pre>" value="input:pre">预排版</option>
            <option title="<hr>" value="input:hr">分割</option>
            <option title="<div:blank>" value="input:blank">白板</option>
        </select>
    </div>
    <div class="_body _Empty" tpl-name="input:empty">
        <p><code id="g-keytip">[Alt]</code> + 拖动改变面板高度</p>
    </div>
</form>


<!-- 内容：微编辑 -->
<form class="Input Minied" onsubmit="return false" tpl-name="slave:minied">
    <div class="_roll">
        <div class="_where"
            on="click(input)|evo(2) val pop tpl;
                click(input)|evo(2) attr('-val') pop tpl"
            to="1/select|replace|focus fire('', 'change');
                2/._body|replace">
            <label title="内联元素">
                <input type="radio" name="where" value="item:inlines" data-val="minied:inlines" checked /><i id="l-element"></i>
            </label>
            <label title="文本字符">
                <input type="radio" name="where" value="item:ctypes" data-val="minied:chars" /><i id="l-schar"></i>
            </label>
        </div>
        <!--input.select:
            与行块单元和字符种类共享快捷键指向，需检查通过。 -->
        <select name="inlines" size="5" class="_list _inlines" tpl-name="item:inlines"
            on="change|evo(3) val str('inlines:') pop tpl;
                input.select|ev('detail') slr('/','-k', _) $(_) dup pass prop('value')"
            to="2/._prop|replace;
                |val|goto('change')">
            <!-- tpl: inlines:[value] -->
            <option data-k="g" title="<img>" value="img">图片 [g]</option>
            <option data-k="A" title="<audio>" value="audio">音频 [A]</option>
            <option data-k="V" title="<video>" value="video">视频 [V]</option>
            <option title="<picture>" value="picture">最佳图片</option>
            <option title="<svg>" value="svg">图形</option>
            <option data-k="a" title="<a>" value="a">链接 [a]</option>
            <option data-k="c" title="<code>" value="code">代码 [c]</option>
            <option data-k="s" title="<strong>" value="strong">重点 [s]</option>
            <option data-k="e" title="<em>" value="em">强调 [e]</option>
            <option title="<sub>" value="sub">下标</option>
            <option title="<sup>" value="sup">上标</option>
            <option data-k="q" title="<q>" value="q">短引用 [q]</option>
            <option data-k="t" title="<time>" value="times">日期/时间 [t]</option>
            <option data-k="i" title="<ins>" value="ins">插入性 [i]</option>
            <option data-k="d" title="<del>" value="del">已删除 [d]</option>
            <option title="<abbr>" value="abbr">缩写</option>
            <option title="<small>" value="small">注脚</option>
            <option title="<cite>" value="cite">来源</option>
            <option data-k="m" title="<mark>" value="mark">标记 [m]</option>
            <option data-k="r" title="<ruby/rb,rp,rt>" value="ruby">注音单元 [r]</option>
            <option data-k="o" title="<code:orz>" value="orz">表情 [o]</option>
            <option data-k="f" title="<dfn>" value="dfn">定义条目 [f]</option>
            <option data-k="p" title="<samp>" value="samp">样本 [p]</option>
            <option data-k="k" title="<kbd>" value="kbd">键盘字 [k]</option>
            <option title="<meter>" value="meter">量度标示</option>
            <option title="<s>" value="s">失效</option>
            <option data-k="u" title="<u>" value="u">注记 [u]</option>
            <option data-k="v" title="<var>" value="var">变量 [v]</option>
            <option data-k="b" title="<bdo>" value="bdo">有向文本 [b]</option>
            <option title="<br>" value="br">换行</option>
            <option title="<wbr>" value="wbr">软换行</option>
            <option title="<span:space>" value="space">空白段</option>
            <!-- 友好保留 -->
            <option title="#text" value="text">文本</option>
        </select>
    </div>
    <div class="_body" tpl-source="minied:inlines"> [主栏：单元属性] </div>
</form>


<!-- 样式 -->
<form class="Style" onsubmit="return false" tpl-name="slave:style">
    <div class="_icons"
        on="click(b)|evo(2) attr('-tpl') pop tpl;
            click(b)|$$('/b')"
        to="1/._body|replace;
            #|only('_press')">
        <b on="click|stop" title="擦除"><i id="b-erase"></i></b>
        <b on="click|stop" title="样式刷"><i id="b-brush"></i></b>
        <b data-tpl="style:fontview" title="字形" class="_press"><i id="b-fontview"></i></b>
        <b data-tpl="style:fontsize" title="字号"><i id="b-fontsize"></i></b>
        <b data-tpl="style:align" title="对齐"><i id="b-align"></i></b>
        <b data-tpl="style:width" title="宽/高度"><i id="b-width"></i></b>
        <b data-tpl="style:margin" title="内/外边距"><i id="b-margin"></i></b>
        <b data-tpl="style:color" title="颜色"><i id="b-colors"></i></b>
    </div>
    <div class="_body" tpl-source="style:fontview"> [字形] </div>
</form>


<!-- 特性 -->
<form class="Attr" onsubmit="return false" tpl-name="slave:attr">
    <div class="_roll">
        <div class="_name">
            <input type="text" name="attr" value="" />
            <!-- ✚✛ -->
            <input type="button" value="✛" class="_add" />
        </div>
        <select name="attrs" size="5" class="_list" tpb-for>
            <option _="$">style</option>
        </select>
    </div>
    <div class="_body">
        <div class="_main">
            <!-- OBT: 分组对应提示 -->
            <header class="_tips" data-pb="lost">
                <label data-pb="">
                    <b>on</b><input type="text" spellcheck="false" class="_code" disabled />
                </label>
                <label data-pb="">
                    <b>by</b><input type="text" spellcheck="false" class="_code" disabled />
                </label>
                <label data-pb="lost">
                    <b>to</b><input type="text" spellcheck="false" class="_code" disabled />
                </label>
            </header>
            <textarea name="content" spellcheck="false" class="_code"></textarea>
        </div>
        <aside>
            <div class="_option">
                <label>换行符
                    <input type="text" name="nlchar" class="_char _code" value=";" />
                </label>
            </div>
            <hr tpl-node="common:submit" />
        </aside>
    </div>
</form>


<!-- 源码 -->
<form class="Source" onsubmit="return false" tpl-name="slave:source">
    <div class="_body _main">
        <textarea name="content" spellcheck="false" class="_code"></textarea>
    </div>
    <aside>
        <div class="_option">
            <label><input type="checkbox" name="repair" />修复</label>
            <button>结构检查</button>
            <!-- _ok|_err -->
            <div class="_info _ok">OK!</div>
        </div>
        <hr tpl-node="common:submit" />
    </aside>
</form>


<!-- 脚本 -->
<form class="Script" onsubmit="return false" tpl-name="slave:script">
    <div class="_env">
        <label><input type="radio" name="runbox" value="sandbox" checked />沙盒内</label>
        <label><input type="radio" name="runbox" value="editor" />编辑器内</label>
    </div>
    <div class="_body">
        <div class="_main">
            <header>
                <input type="text" name="prefix" spellcheck="false" placeholder="记忆前缀：script-" class="_prefix" />
            </header>
            <textarea name="content" spellcheck="false" class="_code"></textarea>
        </div>
        <aside>
            <div class="_cmds">
                <b title="脚本历史"><i id="l-history"></i></b>
            </div>
            <div class="_submit">
                <button type="submit">运行</button>
            </div>
        </aside>
    </div>
</form>
