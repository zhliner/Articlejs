## Tpb: By

对 `On` 采集的流程数据进行处理。该段是用户各种自定义处理的入口，用户通常应该创建一个首字母大写的私用域，然后再在里面编写自己的处理代码。

系统占用了一个名称为 `X` 的保留空间（模板中为小写 `x`），用于未来可能的扩展，用户不应当覆盖它。另外还有少数几个基础方法位于顶层，但方法名皆为小写（不与用户约定冲突）。


### 格式

```html
<ul by="" >
```

**说明：**

- 各指令之间用空格（`_`）分隔，多个连续空格被忽略。
- 模板中引用X扩展库为小写的 `x`，内部嵌套的子域用句点（`.`）分隔递进引用。
- 无实参传递的方法可省略括号。


### 基础方法集

当前条目（目标）为指令操作的对象。仅包含极少量的几个顶级基础指令。

```js
pull( meth?:String ): Promise<json>
// 数据从远端拉取。
// 目标：当前条目，可选。
// 暂存区的流程数据会作为查询串上传。
// 注：仅支持 GET 方法。

X( path ): Value
// 引入X库成员。
// 目标：当前条目，可选。
// 特权：是，灵活取栈。
// 如果实参为空则从数据栈取值。


// 判断调用。
// 简单的 if 逻辑。
/////////////////////////////////////////////////

xtrue( meth:String, ...rest:Value ): Value
// 真值执行，否则跳过。
// 目标：当前条目/栈顶1项。
// meth 为X函数库方法名。
// rest 为方法的实参序列。

xfalse( meth:String, ...rest:Value ): Value
// 假值执行，否则跳过。
// 目标：当前条目/栈顶1项。
// meth/rest 说明同上。


// 元素渲染。
/////////////////////////////////////////////////

render( data?:Value ): Element
// 模板节点渲染。
// 通常是对tpl指令获取的元素进行渲染，
// 但也适用任意已经存在于DOM中的有渲染配置的元素。
// 目标：当前条目/栈顶1-2项。
// 内容：[Element, data:Value]
// 注：
// 模板实参data是可选的，如果为空则取栈顶2项（或当前条目展开）。
// 注记：
// 在By段定义此方法，是因为模板可能从远端获取，渲染之后需要插入（To）DOM中。
```


### 系统X库

可用 `X.extend()` 方法扩展系统X库。模板中采用小写的 `x` 引用，如 `x.Eff.slide(...)`。

支持多层级定义（对象嵌套子对象），在指令的末端容器上，仍然可用前置双下划线定义取栈条目数，以及 `__name_x` 的格式声明 `name` 方法为特权。

> **注：**<br>
> 此处的多层级对象只能是纯 `Object`，它充当名称空间的效果，便于分级管理。

```js
x.[name]( ...rest ): Value
// 调用X扩展库。
// 支持句点（.）分隔多级嵌套子域。
```
