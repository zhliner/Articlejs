/*! history/tQuery v0.1.2 | (c) zhliner@gmail.com 2021.10.20 | MIT License */
this.$=this.$||{},this.$.Fx=this.$.Fx||{},this.$.Fx.History=function(){"use strict";const t=window.$,e={attrdone:t=>g(t.target,t.detail,i),propdone:t=>g(t.target,t.detail,n),styledone:t=>new r(t.target,t.detail),classdone:t=>new a(t.target,t.detail[2]),nodesdone:t=>new o(t.detail[0]),nodeok:t=>new o([t.target]),detach:t=>new c(t.target),emptied:t=>new d(t.target,t.detail),normalize:t=>t.preventDefault()||new u(t.target),bound:t=>new _(t.target,...t.detail),unbound:t=>new l(t.target,...t.detail)};class s{constructor(){this._buf=[]}handleEvent(t){let s=e[t.type](t);s.changed()&&this._buf.push(s),t.stopPropagation()}back(e){e>0&&function(e){let s=t.config({varyevent:null,bindevent:null});try{e()}finally{t.config(s)}}((()=>this._backs(this._buf,e)))}size(){return this._buf.length}prune(t){t>0&&this._buf.splice(0,t)}clear(){this._buf.length=0}_backs(t,e){t.splice(-e).reverse().forEach((t=>t.back()))}}class i{constructor(t,[e,s]){this._el=t,this._name=e,this._old=s}back(){if(null===this._old)return this._el.removeAttribute(this._name);this._el.setAttribute(this._name,this._old)}changed(){return this._el.getAttribute(this._name)!==this._old}}class n{constructor(t,[e,s,i]){this._el=t,this._name=e,this._old=s,this._isdn=i}back(){this._isdn?this._el.dataset[this._name]=this._old:this._el[this._name]=this._old}changed(){return this._isdn?this._el.dataset[this._name]!==this._old:this._el[this._name]!==this._old}}class h{constructor(t,e){this._box=t,this._nds=e}back(){this._box.textContent="",this._box.append(...this._nds)}changed(){return this._nds.length>0||""!==this._box.textContent}}class r{constructor(t,[e,s]){this._el=t,this._name=e,this._old=s}back(){this._el.style[this._name]=this._old,this._el.style.cssText||this._el.removeAttribute("style")}changed(){return this._el.style[this._name]!==this._old}}class a{constructor(t,e){this._el=t,this._ns=e}back(){this._el.removeAttribute("class"),this._ns.length&&this._ns.forEach((t=>this._el.classList.add(t)))}changed(){let t=new Set(this._el.classList);return this._ns.length!==t.size||this._ns.some((e=>!t.has(e)))}}class _{constructor(t,e,s,i,n){this._el=t,this._evn=e,this._slr=s,this._handle=i,this._cap=n}back(){t.off(this._el,this._evn,this._slr,this._handle,this._cap)}changed(){return!0}}class l{constructor(t,e,s,i,n,h){this._el=t,this._evn=e,this._slr=s,this._handle=i,this._cap=n,this._once=h}back(){let e=this._once?"one":"on";t[e](this._el,this._evn,this._slr,this._handle,this._cap)}changed(){return!0}}class o{constructor(t){this._nodes=t}back(){this._nodes.forEach((t=>t.remove()))}changed(){return!0}}class c{constructor(t){this._node=t,this._prev=t.previousSibling,this._box=t.parentNode}back(){if(this._prev)return this._prev.after(this._node);this._box.prepend(this._node)}changed(){return!0}}class d{constructor(t,e){this._box=t,this._data=e}back(){this._data.length>0&&this._box.prepend(...this._data)}changed(){return!0}}class u{constructor(e){let s=t.textNodes(e).filter(((t,e,s)=>{return i=t,n=s[e-1],h=s[e+1],i.previousSibling===n||i.nextSibling===h;var i,n,h}));this._buf=function(t){if(0==t.length)return[];let e=[t.shift()],s=[e];for(const i of t)i.previousSibling!==e[e.length-1]?s.push(e=[i]):e.push(i);return s}(s).map((t=>new b(t)))}back(){this._buf.forEach((t=>t.back()))}changed(){return this._buf.length>0}}class b{constructor(t){let e=t.shift(),s=e.textContent,i=e.wholeText;this._ref=e,this._txt0=s,this._data=t,t.forEach((t=>t.remove())),e.textContent=i}back(){this._ref.textContent=this._txt0,this._ref.after(...this._data)}}function g(t,e,s){return"text"===e[0]||"html"===e[0]?new h(t,e[1]):new s(t,e)}return s.Normalize=u,s}();
//# sourceMappingURL=history.min.js.map
