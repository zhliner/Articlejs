(function(s){const i={attrdone:t=>p(t.target,t.detail,e),propdone:t=>p(t.target,t.detail,n),styledone:t=>new r(t.target,t.detail),classdone:t=>new a(t.target,t.detail[2]),nodesdone:t=>new o(t.detail[0]),nodeok:t=>new o([t.target]),detach:t=>new c(t.target),emptied:t=>new d(t.target,t.detail),normalize:t=>new u(t.target),bound:t=>new _(t.target,...t.detail),unbound:t=>new l(t.target,...t.detail)};class t{constructor(){this._buf=[]}handleEvent(t){let e=i[t.type](t);if(e.changed()){this._buf.push(e)}t.stopPropagation()}back(t){t>0&&m(()=>this._backs(this._buf,t))}size(){return this._buf.length}prune(t){if(t>0){this._buf.splice(0,t)}}clear(){this._buf.length=0}_backs(t,e){t.splice(-e).reverse().forEach(t=>t.back())}}class e{constructor(t,[e,s]){this._el=t;this._name=e;this._old=s}back(){if(this._old===null){return this._el.removeAttribute(this._name)}this._el.setAttribute(this._name,this._old)}changed(){return this._el.getAttribute(this._name)!==this._old}}class n{constructor(t,[e,s,i]){this._el=t;this._name=e;this._old=s;this._isdn=i}back(){if(this._isdn){this._el.dataset[this._name]=this._old}else{this._el[this._name]=this._old}}changed(){if(this._isdn){return this._el.dataset[this._name]!==this._old}return this._el[this._name]!==this._old}}class h{constructor(t,e){this._box=t;this._nds=e}back(){this._box.textContent="";this._box.append(...this._nds)}changed(){return this._nds.length>0||this._box.textContent!==""}}class r{constructor(t,[e,s]){this._el=t;this._name=e;this._old=s}back(){this._el.style[this._name]=this._old;this._el.style.cssText||this._el.removeAttribute("style")}changed(){return this._el.style[this._name]!==this._old}}class a{constructor(t,e){this._el=t;this._ns=e}back(){this._el.removeAttribute("class");this._ns.length&&this._ns.forEach(t=>this._el.classList.add(t))}changed(){let e=new Set(this._el.classList);return this._ns.length!==e.size||this._ns.some(t=>!e.has(t))}}class _{constructor(t,e,s,i,n){this._el=t;this._evn=e;this._slr=s;this._handle=i;this._cap=n}back(){s.off(this._el,this._evn,this._slr,this._handle,this._cap)}changed(){return true}}class l{constructor(t,e,s,i,n,h){this._el=t;this._evn=e;this._slr=s;this._handle=i;this._cap=n;this._once=h}back(){let t=this._once?"one":"on";s[t](this._el,this._evn,this._slr,this._handle,this._cap)}changed(){return true}}class o{constructor(t){this._nodes=t}back(){this._nodes.forEach(t=>t.remove())}changed(){return true}}class c{constructor(t){this._node=t;this._prev=t.previousSibling;this._box=t.parentNode}back(){if(this._prev){return this._prev.after(this._node)}this._box.prepend(this._node)}changed(){return true}}class d{constructor(t,e){this._box=t;this._data=e}back(){this._data.length>0&&this._box.prepend(...this._data)}changed(){return true}}class u{constructor(t){let e=s.textNodes(t).filter((t,e,s)=>f(t,s[e-1],s[e+1]));this._buf=g(e).map(t=>new b(t))}back(){this._buf.forEach(t=>t.back())}changed(){return this._buf.length>0}}class b{constructor(t){let e=t.shift(),s=e.textContent;this._ref=e;this._txt0=s;this._data=t}back(){this._ref.textContent=this._txt0;this._ref.after(...this._data)}}function f(t,e,s){return t.previousSibling===e||t.nextSibling===s}function g(t){if(t.length==0){return[]}let e=[t.shift()],s=[e];for(const i of t){if(i.previousSibling===e[e.length-1]){e.push(i);continue}s.push(e=[i])}return s}function p(t,e,s){return e[0]==="text"||e[0]==="html"?new h(t,e[1]):new s(t,e)}function m(t){let e=s.config({varyevent:null,bindevent:null});try{return t()}finally{s.config(e)}}s.Fx.History=t;s.Fx.History.Normalize=u})(window.$);