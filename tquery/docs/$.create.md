# $.create( html, clean, doc? ): DocumentFragment

创建文档片段。`<script>`、`<style>`、`<link>` 三种元素会被自动清理，如果需要保留，可传递 `clean` 值为 `false`。

传递 `clean` 实参为 `null` 与 `undefined` 等效，会执行默认的清理器函数。用户也可以传递一个函数自己执行文档片段的预处理。


## 参数

### html: String

文档片段的源码内容。源码应为规范的HTML结构，可以赋值给 `<template>` 元素的 `innerHTML`。

> **注：**<br>
> 单独的表格行元素是可以接受的，如：`<tr><td></td></tr> <tr>...</tr>`），无需包含完整的 `<table><tbody>...</tbody></table>` 封装。


### clean: Function | null | false

一个用户自定义的文档片段处理器函数，或者简单的禁止默认清理（`false`），或一个占位实参（`null`，便于后续参数的传递）。

处理器接口：`function( frag: DocumentFragment ): void`，其中 `frag` 为尚未导入（`document.adoptNode`）当前文档对象的文档片段（**注**：非法脚本不会执行）。


### 返回值

一个文档片段实例，已属于当前文档对象（`document`）。


## 示例

```js
let code = `
<strong>重要的</strong>事情，
<em>有图为证</em>
还有一段脚本<script>alert(“Hello!")</script>`;

let buf = [];
let frg = $.create(code.trim(), buf);
// frg: #document-fragment [<strong>, #text, <em>, #text]
// buf: [<script>]


$.create('<p><b>Bold</b><i>斜体</i></p>').children[0];
// <p>...</p>
// 注：
// 效果同jQuery里的 $('<p><b>Bold</b><i>斜体</i></p>')


$([
    '<p>第一个段落</p>',
    '<p>第二个段落</p>'
])
.map( htm => $.create(htm) )
.wrapAll( '<div>' )
.appendTo( document.body );
// <div>
//     <p>第一个段落</p>
//     <p>第二个段落</p>
// </div>
//
// 说明：
// - 本库中并不能用 $('<p>...</p>') 创建元素。
// - 最后一个方法将即时构建的元素插入到了文档的末尾。


// 附：另一种方式
$([
    '第一个段落',
    '第二个段落'
])
.wrap('<p>')
.wrapAll( '<div>' )
.appendTo( document.body );
// 效果同前。
// 这样把数据分离到更细粒度，更便于使用。
```
