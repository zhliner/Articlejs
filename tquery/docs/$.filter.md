# $.filter( els, fltr ): [Element]

对 `els` 中的元素用 `fltr` 匹配过滤，返回一个匹配元素的新的集合。如果没有过滤条件（为假值），返回一个已转换为数组的原始集。

> **注：**<br>
> 实际上也可以用该接口来过滤任意数据的集合，它就是一个兼容选择器匹配的 `Array:filter` 接口。


## 参数

### els: {NodeList|Array|LikeArray}

元素的集合。或任意数据的类数组集合。


### fltr: {String|Function|Element|Array}

筛选条件。
如果是一个数组，返回值就是一个与 `els` 的交集。
如果是一个函数，函数接受参数：(e:Element, i:Number, els:Array)。**注**：与 `Array:filter` 的回调参数相同。


## 示例

```html
<section>
    <p id="test" class="Test Hai">
        这是一个
        <strong>通用的</strong>
        <em>测试段落</em>
        。包含了一些
        <em class="line">Inline 元素</em>。
    </p>
    <p class="Test">
        这是第二个
        <em>测试</em>
        段落。包含了一些
        <em class="line">Inline</em>
        元素。
    </p>
<section>
```


### 单元素版

```js
let ems = $.find('p > em');
// [
//     <em>测试段落</em>,
//     <em>Inline 元素</em>,
//     <em>测试</em>,
//     <em>Inline</em>
// ]

$.filter(ems, '.line');
// [
//     <em>Inlie 元素</em>,
//     <em>Inlie</em>
// ]


let sub = $.find('#test > *');
// [
//     <strong>通用的</strong>,
//     <em>测试段落</em>,
//     <em>Inline 元素</em>
// ]

$.filter(ems, sub);
// [
//     <em>测试段落</em>,
//     <em>Inline 元素</em>
// ]
// 注：结果为 ems 与 sub 的交集。
```


### 集合版

> **注：**<br>
> 节点过滤类的接口中，集合版与单元素版区别不大，仅仅是集合的封装式调用。<br>
> 节点过滤类接口除了 `.filter`，还包括 `.has` 和 `.not`，它们的单元素版和集合版的区别与此相同。<br>

```js
let ems = $('p > em');
// Collector [
//     <em>测试段落</em>,
//     <em>Inline 元素</em>,
//     <em>测试</em>,
//     <em>Inline</em>
// ]

ems.filter('.line');
// Collector [
//     <em>Inline 元素</em>,
//     <em>Inline</em>
// ]

ems.filter( $.find('#test > *') );
// Collector [
//     <em>测试段落</em>,
//     <em>Inline 元素</em>
// ]
// 注：实参为一个数组。

ems.filter( $('#test > *') );
// 结果同上。
// 注：实参为一个 Collector 实例。
```
