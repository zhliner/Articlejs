# $.css( el, name, value ): String | Object | this

获取或设置 `el` 元素的样式，可以一次获取多个，也可以一次设置多个。设置时为设置元素的内联样式（`style` 属性），获取时为元素计算后的样式值。

1. 取值时：样式名称或名称数组。指定单个名称时返回一个单一的值，指定一个名称数组时返回一个名值对对象（`Object`）。
2. 设置时：一个名/值对对象 `Object` 或 `Map`，键为样式名，值为样式值或取值回调，如果值为 `null` 或空串，会删除该内联样式。如果名称本身为 `null`，会删除全部样式（`style` 特性本身）。

样式值的取值回调接口为：`function( oldval, cso ): Value`，回调内的 `this` 为目标元素，首个参数为当前的样式值，第二个参数为只读的计算样式集（`CSSStyleDeclaration`），可以获取实时的样式。


## 参数

### el: {Element}

操作的目标元素。


### name: {String|[String]|Object|Map}

取值的样式名称或名称数组，设置时的样式名或配置对象或 `null`。


### value: {String|Number|Function}

将要设置的样式值或取值回调。


## 示例

```html
<section id="sect">
    <p style="font-size:1em; border:1px #999 solid; background-color:#ccc;">
        测试段落的样式。
    </p>
    <p>
        第二个段落。
    </p>
</section>
```


### 单元素版

```js
let p = $.get('#sect p');
// <p style="...">测试段落的样式。</p>

$.css(p, 'fontSize');
// "16px"
// 注：此处 1em 计算后的值为 16px。

$.css(p, 'font-size');
// "16px"
// 注：同上，两种格式的样式名都支持。

$.css(p, ['font-size', 'backgroundColor']);
// {
//     font-size: "16px",
//     backgroundColor: "rgb(255, 255, 255)"
// }
// 注：
// 获取多个样式时返回一个名值对对象（而不是数组）
// 名称保持传入时的原样。


$.css(p, null);
// <p>测试段落的样式。</p>

$.css(p, 'margin', '10px');
// <p style="margin: 10px;">...</p>

$.css(p, {margin: 20, width: 400});
// <p style="margin: 20px; width: 400px;">...</p>
// 注：
// 无单位的数值 20 被视为默认的像素单位。

$.css(p, 'width', v => parseInt(v) * 2);
// <p style="margin: 20px; width: 800px;">...</p>
```


### 集合版

名称 `name` 和值 `value` 两个参数都支持数组形式，分别与集合中的元素一一对应。取值时，名称若为数组，成员只能是样式名称（字符串）。

**设置时：**

- 名称可以是一个配置对象的数组（此时 `value` 无意义），元素没有对应的配置对象时简单忽略。
- 值 `value` 可以是一个数组，此时 `name` 应当只是一个名称（字符串），没有定义的值被视为 `null`，因此该名称的特性会被删除。

```js
let ps = $('#sect p');
// Collector [
//     <p style="...">测试段落的样式。<p>
//     <p>第二个段落。/p>
// ]

ps.css('border');
// [
//     "1px solid rgb(153, 153, 153)",
//     "0px none rgb(0, 0, 0)"
// ]
// 注：返回一个值数组，与集合中的元素一一对应。


// 取值时的名称数组
ps.css(['border', 'font-size']);
// [
//     {
//         border: "1px solid rgb(153, 153, 153)",
//         font-size: "16px"
//     },
//     {
//         border: "0px none rgb(0, 0, 0)",
//         font-size: "16px"
//     }
// ]

ps.css(null);
// <p>测试段落的样式。</p>
// <p>第二个段落。</p>

ps.css('width', '400px');
// <p style="width: 400px;">测试段落的样式。</p>
// <p style="width: 400px;">第二个段落。</p>


// 设置时的值数组
ps.css('width', [300]);
// <p style="width: 300px;">测试段落的样式。</p>
// <p style="width: 400px;">第二个段落。</p>
// 注：未定义的设置被忽略。


// 设置时的配置对象数组
ps.css([
    { width: 600 },
    { fontSize: 20 }
]);
// <p style="width: 600px;">测试段落的样式。</p>
// <p style="width: 400px; font-size: 20px;">第二个段落。</p>
```
