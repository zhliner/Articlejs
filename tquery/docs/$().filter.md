# .filter( fltr ): Collector

对集合中的成员用 `fltr` 匹配过滤，返回一个匹配成员的新集合。`fltr` 可以是任意值：字符串表示选择器，数组表示成员包含，函数表示自定义判断，其它值表示全等测试。

> **注：**<br>
> 这是一个通用的匹配过滤方法，可用于任意值的集合。


## 参数

### fltr: String | Array | Function | Value

筛选条件：

- **字符串**：作为一个CSS选择器，集合内必须是元素成员，匹配成功为真。
- **值数组**：集合内的成员必须在值数组内存在，值为全等比较，相等为真。**注**：实际上就是返回两个集合的交集。
- **任意值**：与成员执行全等比较，相等时为匹配（为真）。
- **测试函数**：函数返回真时匹配，接口：`function( v:Value, i:Number, o:Collector ): Boolean`。


### 返回值

匹配目标的成员组成的一个新的集合（`Collector`），原集合被加入内部的实例链栈中。


## 示例

```html
<ul id="ul2">
    <li>条目0</li>
    <li class="line"></li>
    <li>条目1</li>
    <li>条目2</li>
    <li>条目3</li>
    <li class="line"></li>
    <li>条目4</li>
    <li>条目5</li>
    <li>条目6</li>
    <li class="line"></li>
    <li>条目7</li>
<ul>
```

```js
let lis = $('#ul2 > li');
// Collector(11) [
//    ...
// ]

lis.filter('.line');
// Collector(3) [
//     <li class="line"></li>,
//     <li class="line"></li>,
//     <li class="line"></li>
// ]
```


### 普通值集

```js
$([
    false,
    'aaa',
    12345,
    null,
    '',
    true
])
.filter( v => v );
// Collector [
//     'aaa',
//     12345,
//     true,
// ]
```


## 工具版

### $.filter( list: NodeList | Array | LikeArray | Map | Set, fltr: String | Array | Function | Value ): Array

接收任意类数组实参的过滤接口，返回一个普通数组。

> **注：**<br>
> 实际上内部仅仅是封装为一个新 `Collector` 实例后调用同名接口，然后返回一个普通的数组。


```js
let lis = $.get('#ul2').children;
// HTMLCollection(11) [
//     ...
// ]

$.filter(lis, '.line');
// [
//     <li class="line"></li>,
//     <li class="line"></li>,
//     <li class="line"></li>
// ]
// 注：返回一个普通数组。
```


### 普通值集

```js
let vals = [
    false,
    'aaa',
    12345,
    null,
    '',
    true
];

$.filter( vals, v => v );
// [
//     'aaa',
//     12345,
//     true,
// ]
```
