# $.script( data, box, doc? ): Element | Promise

在目标容器 `box` 内插入一个 `<script>` 脚本元素。可以传入脚本内容创建一个内联的 `<script>` 元素，也可以用 `$.Element()` 创建一个引入外部脚本的 `<script src="...">` 元素或仅仅只是一个配置对象（`{src:...}`）。

> **注记：**
> 其它节点插入方法排除了脚本元素，因此在此单独支持。


## 参数

### data: String | Element

脚本代码或一个引入外部脚本的 `<script>` 元素或其配置对象。传入脚本代码时会创建一个内联的 `<script>` 元素并立即执行，同时返回该元素。传入 `<script>` 元素或其配置对象时会导入目标脚本并执行，此时会返回一个 `Promise` 对象，用户可以注册导入成功后的处理函数。


### box: Element

脚本元素插入的目标容器元素，可选。默认目标容器为 `document.head` 元素，且 `<script>` 插入并执行后会自动移除（不保留）。如果明确传入容器元素，`<script>` 插入和执行后会保留。


### doc: Document

元素所属文档对象，可选。


## 示例

```js
$.script( `alert("Hai");` );
// 脚本执行并弹出一个包含 Hai 的窗口。
// 脚本元素插入<head>末尾，但执行后已自动移除。

$.script( `testVar = "some-value";`, document.head );
// 在window对象内定义一个全局变量 testVar。
// 元素 <script>testVar = "some-value";</script> 存在于 document.head 内的末尾。


// 载入一个已构造好的脚本元素。
// 注：脚本引用的URL并不存在，此仅示例用法。
let sel = $.Element( 'script', {src: 'https://tquery.com/api.js'} ),
    pro = $.script( sel, document.head );

pro.then( el => alert(el.src) );  // 载入完毕
```