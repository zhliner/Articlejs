# $.style( data, next, doc? ): Element | Promise

构造并插入一个包含内容的 `<style>` 样式元素，或者一个引入外部CSS资源的 `<link href=...>` 元素，或者一个已经创建好的 `<style>` 或 `<link>` 元素。

`data` 可以是一个配置对象：

```js
href:  {String}     // <link>元素的CSS资源定位。
rel:   {String}     // <link>元素的属性（stylesheet）。
text:  {String}     // <style>元素的CSS代码，也是决定创建<style>或<link>的判断依据
scope: {Boolean}    // <style>元素的一个可选属性。
```

传入配置对象构建或一个构建好的元素插入时，返回一个承诺对象（Promise），否则返回创建的 `<style>` 元素本身（无需等待外部载入）。

`next` 是 `<style>` 或 `<link>` 元素插入的参考元素，可选。默认插入到 `document.head` 元素内的末尾。

> **注记：**
> 其它节点插入方法排除了样式元素（`<style>` 和 `<link>`），因此在此单独支持。


## 参数

### data: {String|Element}

样式代码或一个配置对象或一个已经创建好的元素，传入样式代码时会创建一个内联的 `<style>` 元素并返回该元素。传入配置对象或一个已经创建好的元素时，返回一个 `Promise` 对象（用户可以注册导入成功后的处理）。

> **注：**<br>
> 传入配置对象也可以构建内联的 `<style>` 元素，此时配置对象中的 `text` 属性即是CSS代码。此时依然会返回一个 `Promise`，但无需等待外部载入。<br>
> 通过配置对象构建内联的 `<style>` 元素通常是在需要 `scope` 属性时才采用，否则简单传入CSS代码即可。<br>


### next: {Element}

样式元素插入的参考元素（在前插入），可选。默认为 `document.head` 元素内的末尾。


### doc: {Document}

元素所属文档对象，可选。


## 示例

```js
let code = `
body {
    margin: 0;
    font-size: 11pt;
}
`;
$.style(code);
// <style>
//     body {
//         margin: 0;
//         font-size: 11pt;
//     }
// </style>


// 一个配置。
// 没有text属性，故会创建一个<link>元素。
let conf = {
    rel: 'stylesheet',
    href: 'https://tquery.com/styles/mail.css',
};

// 通过配置载入。
let pro = $.style( conf );

// 用户处理。
pro.then( el => alert('Done!') );
```
